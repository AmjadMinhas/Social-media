import{T as R,r as k,O as M,o as d,c as w,a as n,w as D,v as L,u as p,b as m,d as O,j as a,g as e,h as o,t as r,f as h,F as C,e as j,n as F,l as U}from"./app-bd8ce98d.js";import{d as E}from"./debounce-6d2b5f74.js";import{_ as H}from"./AlertModal-94ca682f.js";import{u as I}from"./useAlertModal-03fbced0.js";/* empty css              */import{_ as Z}from"./Table-28e0b53d.js";import{T as q,a as P,_ as u}from"./TableHeaderRowItem-b1a1ef7a.js";import{T as G,a as J,_ as c}from"./TableBodyRowItem-b60b10ed.js";import{_ as K}from"./Dropdown-ecddf621.js";import{_ as Q,a as T}from"./DropdownItem-19349a2b.js";const W={class:"md:bg-white flex items-center border border-primary md:border-none md:shadow-sm h-12 md:h-10 md:w-80 rounded-[0.5rem] mb-6 text-xl md:text-sm"},X=["placeholder"],Y={key:1,class:"pr-2"},ee={class:""},te={class:"float-right"},ae={class:"py-1 rounded-[5px] text-xs px-3 bg-[#ddebf7] text-slate-700"},se={class:"float-right"},we={__name:"UserTable",props:{rows:{type:Object,required:!0},filters:{type:Object},type:{type:String},showDeleteBtn:{type:Boolean,default:!0},showRole:{type:Boolean,default:!1}},emits:["delete"],setup(i,{emit:le}){const b=i,{isOpenAlert:y,openAlert:x,confirmAlert:B}=I(),N=R({test:null}),V=t=>{N.delete(b.type==="admin"?"/admin/team/users/"+t:"/admin/users/"+t)},f=k({search:b.filters.search}),g=k(!1),S=()=>{f.value.search=null,_()},z=t=>t===b.rows.data.length-1,v=E(()=>{g.value=!0,_()},1e3),A=t=>t===1?"Active":t===0?"Inactive":t,_=()=>{const t=window.location.pathname;M.visit(t,{method:"get",data:f.value})};return(t,l)=>(d(),w(C,null,[n("div",W,[l[6]||(l[6]=n("span",{class:"pl-3"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[n("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1)),D(n("input",{onInput:l[0]||(l[0]=(...s)=>p(v)&&p(v)(...s)),"onUpdate:modelValue":l[1]||(l[1]=s=>f.value.search=s),type:"text",class:"outline-none px-4 w-full bg-inherit",placeholder:t.$t("Search users")},null,40,X),[[L,f.value.search]]),g.value===!1&&f.value.search?(d(),w("button",{key:0,onClick:S,type:"button",class:"pr-2"},l[4]||(l[4]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1)]))):m("",!0),g.value?(d(),w("span",Y,l[5]||(l[5]=[O('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1)]))):m("",!0)]),a(Z,{rows:i.rows},{default:e(()=>[a(q,null,{default:e(()=>[a(P,null,{default:e(()=>[a(u,{position:"first"},{default:e(()=>[o(r(t.$t("Name")),1)]),_:1}),a(u,{class:"hidden sm:table-cell"},{default:e(()=>[o(r(t.$t("Email")),1)]),_:1}),a(u,{class:"hidden sm:table-cell"},{default:e(()=>[o(r(t.$t("Phone")),1)]),_:1}),i.type==="admin"||i.showRole===!0?(d(),h(u,{key:0,class:"hidden sm:table-cell"},{default:e(()=>[o(r(t.$t("Role")),1)]),_:1})):m("",!0),a(u,null,{default:e(()=>[n("span",ee,r(t.$t("Status")),1)]),_:1}),a(u,{class:"hidden sm:table-cell"},{default:e(()=>[n("span",te,r(t.$t("Last updated")),1)]),_:1}),a(u,{position:"last"}),a(u,null,{default:e(()=>[o(r(t.$t("Organizations")),1)]),_:1})]),_:1})]),_:1}),a(G,null,{default:e(()=>[(d(!0),w(C,null,j(i.rows.data,(s,$)=>(d(),h(J,{key:$,class:F(z($)?"":"border-b")},{default:e(()=>[a(c,{position:"first",class:"capitalize"},{default:e(()=>[o(r(s.full_name),1)]),_:2},1024),a(c,{class:"hidden sm:table-cell"},{default:e(()=>[o(r(s.email),1)]),_:2},1024),a(c,{class:"hidden sm:table-cell"},{default:e(()=>[o(r(s.phone??t.$t("N/A")),1)]),_:2},1024),i.type==="admin"||i.showRole===!0?(d(),h(c,{key:0,class:"hidden sm:table-cell capitalize"},{default:e(()=>[o(r(s.role),1)]),_:2},1024)):m("",!0),a(c,{class:"capitalize"},{default:e(()=>[n("span",ae,r(A(s.status)),1)]),_:2},1024),a(c,{class:"hidden sm:table-cell"},{default:e(()=>[n("span",se,r(s.updated_at),1)]),_:2},1024),a(c,{position:"last"},{default:e(()=>[s.role!="admin"?(d(),h(K,{key:0,align:"right",class:"mt-2"},{items:e(()=>[a(Q,null,{default:e(()=>[a(T,{href:i.type==="admin"?"/admin/team/users/"+s.id:"/admin/users/"+s.id},{default:e(()=>[o(r(t.$t("View/edit")),1)]),_:2},1032,["href"]),i.showDeleteBtn?(d(),h(T,{key:0,as:"button",onClick:re=>p(x)(s.id)},{default:e(()=>[o(r(t.$t("Delete")),1)]),_:2},1032,["onClick"])):m("",!0)]),_:2},1024)]),default:e(()=>[l[7]||(l[7]=n("button",{class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},[n("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2Z"})])])],-1))]),_:2},1024)):m("",!0)]),_:2},1024),a(c,null,{default:e(()=>[o(r(s.max_organizations),1)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["rows"]),a(H,{modelValue:p(y),"onUpdate:modelValue":l[2]||(l[2]=s=>U(y)?y.value=s:null),onConfirm:l[3]||(l[3]=()=>p(B)(V)),label:t.$t("Delete row"),description:t.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}};export{we as _};
