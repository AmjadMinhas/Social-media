import{r as b,T as k,f as $,g as A,o as r,a as e,c as d,t,h as V,b as c,j as m,u as a,n as u,k as g,w as be,s as fe,O as x}from"./app-db66d61d.js";import Me from"./Layout-1b42697f.js";import{_ as Se}from"./EmbeddedSignupBtn-f2baf669.js";import{_ as we}from"./Modal-a824fd5c.js";import{_ as v}from"./FormInput-44af5dd7.js";import{_ as Ze}from"./FormSelect-299ed3fd.js";import"./index-f104af55.js";/* empty css              */import{_ as Be}from"./FormImageLogo-b9aaff10.js";import{_ as Ie}from"./FormTextArea-a4c4330e.js";import"./index-7cc47353.js";import"./App-3956ecd8.js";import"./Sidebar-52b221b8.js";import"./Menu-b889f12a.js";import"./ProfileModal-26295007.js";import"./FormPhoneInput-dd458330.js";/* empty css                      */import"./transition-59378dc4.js";import"./hidden-be603183.js";import"./use-text-value-dc32201d.js";import"./micro-task-89dcd6af.js";import"./tabs-8bf78ca9.js";import"./LangToggle-522c5268.js";import"./OrganizationModal-7997fd80.js";import"./MobileSidebar-fde650c3.js";import"./pusher-2d476617.js";const Ee={class:"md:h-[90vh]"},Ne={class:"flex justify-center items-center mb-8"},Ue={class:"md:w-[60em]"},Te={key:0,class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-4"},Pe={class:"flex items-center px-4 pt-2 pb-4"},Oe={class:"w-[70%]"},De={class:"text-[17px]"},Re={class:"flex items-center mt-1"},je={class:"ml-auto"},Fe={key:1,class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-4"},We={class:"grid grid-cols-4 items-center px-4 gap-x-4 py-2 border-b relative"},Le={class:"border-r"},He={class:"border-r"},Ge={class:"border-r"},Ye={class:"bg-slate-50 py-1 px-2 rounded-md w-[fit-content] text-xs"},ze={key:1,class:"flex items-center absolute right-0 top-0 text-xs mr-1 space-x-2 p-1 px-2 bg-slate-50 rounded-xl"},Je={class:"grid grid-cols-4 items-center px-4 gap-x-4 py-2"},qe={class:"border-r"},Qe={key:0,class:"border-r"},Ke={class:"bg-slate-50 py-1 px-2 rounded-md w-[fit-content] text-xs"},Xe={class:"border-r"},es={class:"bg-slate-50 py-1 px-2 rounded-md w-[fit-content] text-xs"},ss={class:"bg-slate-50 py-1 px-2 rounded-md w-[fit-content] text-xs"},ts={key:0,class:"grid grid-cols-2 items-center px-4 gap-x-4 py-3 border-t"},os={class:"text-xs text-slate-600 mb-1"},ls={class:"bg-slate-50 py-1 px-2 rounded-md w-[fit-content] text-xs"},as={key:0,class:"text-green-600"},is={key:1,class:"text-gray-500"},ns={class:"text-xs text-gray-500 mt-1"},rs={class:"text-xs text-slate-600 mb-1"},ds={class:"bg-slate-50 py-1 px-2 rounded-md w-[fit-content] text-xs"},ps={key:0,class:"text-green-600"},us={key:1,class:"text-gray-500"},ms={class:"text-xs text-gray-500 mt-1"},cs={class:"flex items-center justify-between px-4 pt-2 pb-4"},vs={class:"text-[17px]"},hs={class:"flex items-center mt-1"},bs={class:"flex space-x-10 border-b w-full px-4 py-6"},fs={class:"w-[40%]"},ws={class:"text-slate-600"},gs={class:"text-xs text-slate-700 flex items-center"},_s={class:"w-[60%]"},xs={class:"ml-6"},ys={class:"ml-6"},ks={class:"flex space-x-10 border-b w-full px-4 py-6"},$s={class:"w-[40%]"},As={class:"text-slate-600"},Vs={class:"text-xs text-slate-700 flex items-center"},Cs={class:"w-[60%]"},Ms={class:"flex space-x-10 border-b w-full px-4 py-6"},Ss={class:"w-[40%]"},Zs={class:"text-slate-600"},Bs={class:"text-xs text-slate-700 flex items-center"},Is={class:"w-[60%]"},Es={class:"flex space-x-10 border-b w-full px-4 py-6"},Ns={class:"w-[40%]"},Us={class:"text-slate-600"},Ts={class:"text-xs text-slate-700 flex items-center"},Ps={class:"w-[60%]"},Os={class:"flex space-x-10 w-full px-4 py-6"},Ds={class:"w-[40%]"},Rs={class:"text-slate-600"},js={class:"text-xs text-slate-700 flex items-center"},Fs={class:"w-[60%]"},Ws={class:"flex px-4 pt-1 pb-2"},Ls={class:"ml-auto"},Hs=["disabled"],Gs={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Ys={key:1},zs={key:3,class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-4"},Js={class:"px-4 pt-2 pb-4"},qs={class:"text-[17px]"},Qs={class:"flex items-center mt-1"},Ks={class:"flex space-x-10 border-b w-full px-4 py-4"},Xs={class:"w-[40%]"},et={class:"text-slate-600"},st={class:"text-left w-[60%]"},tt={class:"w-48 break-all"},ot={class:"flex space-x-10 w-full px-4 py-4"},lt={class:"w-[40%]"},at={class:"text-slate-600"},it={class:"text-left w-[60%]"},nt={class:"text-left"},rt={key:4,class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-20"},dt={class:"flex items-center px-4 pt-2 pb-4"},pt={class:"w-[60%]"},ut={class:"text-[17px]"},mt={class:"flex items-center mt-1"},ct={class:"w-[40%] ml-auto"},vt={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},ht={class:"sm:col-span-6"},bt={class:"flex items-center mb-4"},ft={for:"enable_concurrent_mode",class:"ml-2 block text-sm text-gray-900"},wt={class:"text-xs text-gray-500 ml-6 mb-4"},gt={class:"flex items-center"},_t={for:"enable_multi_device",class:"ml-2 block text-sm text-gray-900"},xt={class:"text-xs text-gray-500 ml-6"},yt={class:"mt-4 flex"},kt=["disabled"],$t={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},At={key:1},Vt={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},Ct={class:"mt-4 flex"},Mt=["disabled"],St={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Zt={key:1},oo={__name:"Whatsapp",props:["settings","embeddedSignupActive","appId","configId","graphAPIVersion","modules"],setup(C){var S,Z,B,I,E,N,U,T,P,O,D,R,j,F,W;const h=C;b(!1);const M=b(h.settings.metadata),ge=b(window.location.origin),w=b(!1),_=b(!1),l=b(M.value?JSON.parse(M.value):null),y=b(!1),n=k({app_id:l.value&&l.value.whatsapp?l.value.whatsapp.app_id:null,access_token:l.value&&l.value.whatsapp?l.value.whatsapp.access_token:null,phone_number_id:l.value&&l.value.whatsapp?l.value.whatsapp.phone_number_id:null,waba_id:l.value&&l.value.whatsapp?l.value.whatsapp.waba_id:null,device_name:"Primary Device",enable_concurrent_mode:l.value&&l.value.whatsapp?l.value.whatsapp.concurrent_mode_enabled??!1:!1,enable_multi_device:l.value&&l.value.whatsapp?l.value.whatsapp.multi_device_enabled??!0:!0}),p=k({profile_picture_url:l.value&&l.value.whatsapp?(B=(Z=(S=l.value)==null?void 0:S.whatsapp)==null?void 0:Z.business_profile)==null?void 0:B.profile_picture_url:null,description:l.value&&l.value.whatsapp?(N=(E=(I=l.value)==null?void 0:I.whatsapp)==null?void 0:E.business_profile)==null?void 0:N.description:null,address:l.value&&l.value.whatsapp?(P=(T=(U=l.value)==null?void 0:U.whatsapp)==null?void 0:T.business_profile)==null?void 0:P.address:null,email:l.value&&l.value.whatsapp?(R=(D=(O=l.value)==null?void 0:O.whatsapp)==null?void 0:D.business_profile)==null?void 0:R.email:null,industry:l.value&&l.value.whatsapp?(W=(F=(j=l.value)==null?void 0:j.whatsapp)==null?void 0:F.business_profile)==null?void 0:W.industry:null,websites:[]}),f=k({access_token:l.value&&l.value.whatsapp?l.value.whatsapp.access_token:null}),_e=[{label:"Automotive",value:"AUTO"},{label:"Beauty, spa and salon",value:"BEAUTY"},{label:"Clothing",value:"APPAREL"},{label:"Education",value:"EDU"},{label:"Entertainment",value:"ENTERTAIN"},{label:"Event planning and service",value:"EVENT_PLAN"},{label:"Finance and banking",value:"FINANCE"},{label:"Food and groceries",value:"GROCERY"},{label:"Public service",value:"GOVT"},{label:"Hotel and lodging",value:"HOTEL"},{label:"Medical and health",value:"HEALTH"},{label:"Charity",value:"NONPROFIT"},{label:"Professional services",value:"PROF_SERVICES"},{label:"Shopping and retail",value:"RETAIL"},{label:"Travel and transportation",value:"TRAVEL"},{label:"Restaurant",value:"RESTAURANT"},{label:"Not a business",value:"NOT_A_BIZ"},{label:"Undefined",value:"UNDEFINED"},{label:"Other",value:"OTHER"}];function xe(){w.value=!0}function ye(){_.value=!0}const ke=()=>{n.post("/settings/whatsapp",{preserveScroll:!0,preserveState:!1,onSuccess:()=>{w.value=!1}})},$e=()=>{p.post("/settings/whatsapp/business-profile",{preserveScroll:!0})},Ae=()=>{f.post("/settings/whatsapp/token",{preserveScroll:!0,onSuccess:()=>{_.value=!1}})},Ve=()=>{y.value=!0,x.visit("/settings/whatsapp/refresh",{method:"get",preserveState:!0,onFinish:()=>{y.value=!1},onSuccess:()=>{x.visit("/settings/whatsapp",{preserveState:!1})}})},Ce=()=>{x.delete("/settings/whatsapp/business-profile",{onBefore:()=>confirm("Are you sure you want to delete your integration?"),preserveState:!0,onSuccess:()=>{x.visit("/settings/whatsapp",{preserveState:!1})}})};return(o,s)=>(r(),$(Me,{modules:h.modules},{default:A(()=>{var L,H,G,Y,z,J,q,Q,K,X,ee,se,te,oe,le,ae,ie,ne,re,de,pe,ue,me,ce,ve,he;return[e("div",Ee,[e("div",Ne,[e("div",Ue,[(L=l.value)!=null&&L.whatsapp?c("",!0):(r(),d("div",Te,[e("div",Pe,[e("div",Oe,[e("h2",De,t(o.$t("Setup Whatsapp Account")),1),e("span",Re,t(o.$t("Setup your integration to be able to receive and send messages via Whatsapp.")),1)]),e("div",je,[C.embeddedSignupActive==1?(r(),$(Se,{key:0,appId:h.appId,configId:h.configId,graphAPIVersion:h.graphAPIVersion},null,8,["appId","configId","graphAPIVersion"])):(r(),d("button",{key:1,onClick:xe,type:"button",class:"bg-primary text-white p-2 rounded-lg text-sm mt-5 flex px-3 w-fit hover:shadow-md transition-shadow cursor-pointer"},[V(t(o.$t("Setup whatsapp"))+" ",1),s[22]||(s[22]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},[e("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[e("g",{opacity:".2"},[e("path",{d:"M12.206 5.848a1.5 1.5 0 0 1 2.113.192l3.333 4a1.5 1.5 0 1 1-2.304 1.92l-3.334-4a1.5 1.5 0 0 1 .192-2.112Z"}),e("path",{d:"M12.206 16.152a1.5 1.5 0 0 1-.192-2.112l3.334-4a1.5 1.5 0 0 1 2.304 1.92l-3.333 4a1.5 1.5 0 0 1-2.113.192Z"}),e("path",{d:"M16 11a1.5 1.5 0 0 1-1.5 1.5h-8a1.5 1.5 0 0 1 0-3h8A1.5 1.5 0 0 1 16 11Z"})]),e("path",{d:"M11.347 5.616a.5.5 0 0 1 .704.064l3.333 4a.5.5 0 0 1-.768.64l-3.333-4a.5.5 0 0 1 .064-.704Z"}),e("path",{d:"M11.347 14.384a.5.5 0 0 1-.064-.704l3.333-4a.5.5 0 0 1 .768.64l-3.333 4a.5.5 0 0 1-.704.064Z"}),e("path",{d:"M15.5 10a.5.5 0 0 1-.5.5H5a.5.5 0 0 1 0-1h20a.5.5 0 0 1 .5.5Z"})])],-1))]))])])])),(H=l.value)!=null&&H.whatsapp?(r(),d("div",Fe,[e("div",We,[e("div",Le,[e("div",null,t(o.$t("Display name")),1),e("div",null,t((G=l.value.whatsapp)==null?void 0:G.verified_name),1)]),e("div",He,[e("div",null,t(o.$t("Connected number")),1),e("div",null,t((Y=l.value.whatsapp)==null?void 0:Y.display_phone_number),1)]),e("div",Ge,[e("div",null,t(o.$t("Message limits")),1),e("div",null,t((z=l.value.whatsapp)!=null&&z.messaging_limit_tier?(J=l.value.whatsapp)==null?void 0:J.messaging_limit_tier:"N/A"),1)]),e("div",null,[e("div",null,t(o.$t("Number status")),1),e("div",Ye,t((q=l.value.whatsapp)==null?void 0:q.number_status),1)]),y.value===!1?(r(),d("button",{key:0,onClick:s[0]||(s[0]=i=>Ve()),class:"flex items-center absolute right-0 top-0 text-xs mr-1 space-x-2 p-1 px-2 bg-slate-50 rounded-xl"},[s[23]||(s[23]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12.079 2.25c-4.794 0-8.734 3.663-9.118 8.333H2a.75.75 0 0 0-.528 1.283l1.68 1.666a.75.75 0 0 0 1.056 0l1.68-1.666a.75.75 0 0 0-.528-1.283h-.893c.38-3.831 3.638-6.833 7.612-6.833a7.658 7.658 0 0 1 6.537 3.643a.75.75 0 1 0 1.277-.786A9.158 9.158 0 0 0 12.08 2.25m8.761 8.217a.75.75 0 0 0-1.054 0L18.1 12.133a.75.75 0 0 0 .527 1.284h.899c-.382 3.83-3.651 6.833-7.644 6.833a7.697 7.697 0 0 1-6.565-3.644a.75.75 0 1 0-1.277.788a9.197 9.197 0 0 0 7.842 4.356c4.808 0 8.765-3.66 9.15-8.333H22a.75.75 0 0 0 .527-1.284z"})],-1)),e("span",null,t(o.$t("Refresh")),1)])):(r(),d("button",ze,s[24]||(s[24]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"}),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})])],-1)])))]),e("div",Je,[e("div",qe,[e("div",null,t(o.$t("Whatsapp business ac ID")),1),e("div",null,t((Q=l.value.whatsapp)==null?void 0:Q.waba_id),1)]),((K=l.value.whatsapp)==null?void 0:K.is_embedded_signup)==1?(r(),d("div",Qe,[e("div",null,t(o.$t("Phone verification status")),1),e("div",Ke,t((X=l.value.whatsapp)==null?void 0:X.code_verification_status),1)])):c("",!0),e("div",Xe,[e("div",null,t(o.$t("Quality rating")),1),e("div",es,t((ee=l.value.whatsapp)==null?void 0:ee.quality_rating),1)]),e("div",null,[e("div",null,t(o.$t("Account status")),1),e("div",ss,t((se=l.value.whatsapp)==null?void 0:se.account_review_status),1)])]),(te=l.value)!=null&&te.whatsapp?(r(),d("div",ts,[e("div",null,[e("div",os,t(o.$t("Concurrent Mode")),1),e("div",ls,[(oe=l.value.whatsapp)!=null&&oe.concurrent_mode_enabled?(r(),d("span",as,"● "+t(o.$t("Enabled")),1)):(r(),d("span",is,"○ "+t(o.$t("Disabled")),1))]),e("p",ns,t(o.$t("Business App + API simultaneously")),1)]),e("div",null,[e("div",rs,t(o.$t("Multi-Device Support")),1),e("div",ds,[((le=l.value.whatsapp)==null?void 0:le.multi_device_enabled)!==!1?(r(),d("span",ps,"● "+t(o.$t("Enabled")),1)):(r(),d("span",us,"○ "+t(o.$t("Disabled")),1))]),e("p",ms,t(o.$t("Multiple devices logged in")),1)])])):c("",!0)])):c("",!0),(ae=l.value)!=null&&ae.whatsapp?(r(),d("form",{key:2,onSubmit:s[7]||(s[7]=g(i=>$e(),["prevent"])),class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-4 pb-4"},[e("div",cs,[e("div",null,[e("h2",vs,t(o.$t("Business profile settings")),1),e("span",hs,[s[25]||(s[25]=e("svg",{class:"mr-2",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),V(" "+t(o.$t("Setup the Whatsapp business profile for your number")),1)])]),e("div",null,[(ie=l.value)!=null&&ie.whatsapp&&((re=(ne=l.value)==null?void 0:ne.whatsapp)==null?void 0:re.is_embedded_signup)===0?(r(),d("button",{key:0,type:"button",onClick:s[1]||(s[1]=i=>ye()),class:"bg-primary text-white p-2 rounded-lg text-sm mt-5 flex px-3 w-fit"},t(o.$t("Update token")),1)):c("",!0)])]),e("div",bs,[e("div",fs,[e("span",ws,t(o.$t("Whatsapp profile picture")),1),e("div",gs,[s[26]||(s[26]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,t(o.$t("Add/update your profile picture")),1)])]),e("div",_s,[m(Be,{modelValue:a(p).profile_picture_url,"onUpdate:modelValue":s[2]||(s[2]=i=>a(p).profile_picture_url=i),name:"",error:a(p).errors.profile_picture_url,label:o.$t("Upload logo"),imageUrl:a(p).profile_picture_url,class:u("col-span-4 ml-6")},null,8,["modelValue","error","label","imageUrl"]),e("div",xs,t(o.$t("Accepted formats: JPG/PNG")),1),e("div",ys,t(o.$t("Minimum dimensions: 192x192 pixels.")),1)])]),e("div",ks,[e("div",$s,[e("span",As,t(o.$t("Business address")),1),e("div",Vs,[s[27]||(s[27]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,t(o.$t("Specify your physical business address")),1)])]),e("div",Cs,[m(v,{modelValue:a(p).address,"onUpdate:modelValue":s[3]||(s[3]=i=>a(p).address=i),error:a(p).errors.address,name:"",type:"text",class:u("col-span-4")},null,8,["modelValue","error"])])]),e("div",Ms,[e("div",Ss,[e("span",Zs,t(o.$t("Business email")),1),e("div",Bs,[s[28]||(s[28]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,t(o.$t("Add your business email address")),1)])]),e("div",Is,[m(v,{modelValue:a(p).email,"onUpdate:modelValue":s[4]||(s[4]=i=>a(p).email=i),error:a(p).errors.email,name:"",type:"email",class:u("col-span-4")},null,8,["modelValue","error"])])]),e("div",Es,[e("div",Ns,[e("span",Us,t(o.$t("Business description")),1),e("div",Ts,[s[29]||(s[29]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,t(o.$t("Edit your whatsapp business account description")),1)])]),e("div",Ps,[m(Ie,{modelValue:a(p).description,"onUpdate:modelValue":s[5]||(s[5]=i=>a(p).description=i),error:a(p).errors.description,name:"",type:"text",class:u("col-span-4")},null,8,["modelValue","error"])])]),e("div",Os,[e("div",Ds,[e("span",Rs,t(o.$t("Business industry")),1),e("div",js,[s[30]||(s[30]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,t(o.$t("Specify your business vertical")),1)])]),e("div",Fs,[m(Ze,{modelValue:a(p).industry,"onUpdate:modelValue":s[6]||(s[6]=i=>a(p).industry=i),name:"",type:"text",options:_e,error:a(p).errors.industry,class:u("col-span-4")},null,8,["modelValue","error"])])]),e("div",Ws,[e("div",Ls,[e("button",{type:"submit",class:"float-right rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm hover:shadow-md hover:bg-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",disabled:a(p).processing},[a(p).processing?(r(),d("svg",Gs,s[31]||(s[31]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(r(),d("span",Ys,t(o.$t("Save")),1))],8,Hs)])])],32)):c("",!0),(de=l.value)!=null&&de.whatsapp&&((ue=(pe=l.value)==null?void 0:pe.whatsapp)==null?void 0:ue.is_embedded_signup)===0?(r(),d("div",zs,[e("div",Js,[e("h2",qs,t(o.$t("Meta webhook settings")),1),e("span",Qs,[s[32]||(s[32]=e("svg",{class:"mr-2",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),V(" "+t(o.$t("Add these webhook settings to your facebook developer account")),1)])]),e("div",Ks,[e("div",Xs,[e("span",et,t(o.$t("Webhook url")),1)]),e("div",st,[e("span",tt,t(ge.value+"/webhook/whatsapp/"+h.settings.identifier),1)])]),e("div",ot,[e("div",lt,[e("span",at,t(o.$t("Verify token")),1)]),e("div",it,[e("div",nt,t(h.settings.identifier),1)])])])):c("",!0),(me=l.value)!=null&&me.whatsapp?(r(),d("div",rt,[e("div",dt,[e("div",pt,[e("h2",ut,t(o.$t("Remove Whatsapp account")),1),e("span",mt,t(o.$t("This will completely delete your whatsapp integration. Your contacts & messages will be unaffected.")),1)]),e("div",ct,[e("button",{onClick:s[8]||(s[8]=i=>Ce()),class:"float-right rounded-md bg-red-700 px-3 py-2 text-sm text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},t(o.$t("Delete integration")),1)])])])):c("",!0)])])]),m(we,{label:o.$t("Whatsapp API config"),isOpen:w.value,closeBtn:!0,onClose:s[18]||(s[18]=i=>w.value=!1)},{default:A(()=>[e("div",vt,[e("form",{onSubmit:s[17]||(s[17]=g(i=>ke(),["prevent"])),class:"grid gap-x-6 gap-y-4 sm:grid-cols-6"},[m(v,{modelValue:a(n).app_id,"onUpdate:modelValue":s[9]||(s[9]=i=>a(n).app_id=i),error:a(n).errors.app_id,name:o.$t("App ID"),type:"text",class:u("sm:col-span-6")},null,8,["modelValue","error","name"]),m(v,{modelValue:a(n).access_token,"onUpdate:modelValue":s[10]||(s[10]=i=>a(n).access_token=i),error:a(n).errors.access_token,name:o.$t("Access token"),type:"text",class:u("sm:col-span-6")},null,8,["modelValue","error","name"]),m(v,{modelValue:a(n).phone_number_id,"onUpdate:modelValue":s[11]||(s[11]=i=>a(n).phone_number_id=i),error:a(n).errors.phone_number_id,name:o.$t("Phone number ID"),type:"text",class:u("sm:col-span-6")},null,8,["modelValue","error","name"]),m(v,{modelValue:a(n).waba_id,"onUpdate:modelValue":s[12]||(s[12]=i=>a(n).waba_id=i),error:a(n).errors.waba_id,name:o.$t("Whatsapp business account ID"),type:"text",class:u("sm:col-span-6")},null,8,["modelValue","error","name"]),m(v,{modelValue:a(n).device_name,"onUpdate:modelValue":s[13]||(s[13]=i=>a(n).device_name=i),error:a(n).errors.device_name,name:o.$t("Device Name"),type:"text",class:u("sm:col-span-6")},null,8,["modelValue","error","name"]),e("div",ht,[e("div",bt,[be(e("input",{id:"enable_concurrent_mode",type:"checkbox","onUpdate:modelValue":s[14]||(s[14]=i=>a(n).enable_concurrent_mode=i),class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"},null,512),[[fe,a(n).enable_concurrent_mode]]),e("label",ft,t(o.$t("Enable Concurrent Mode (Business App + API)")),1)]),e("p",wt,t(o.$t("Allow using WhatsApp Business App and API simultaneously on the same number")),1),e("div",gt,[be(e("input",{id:"enable_multi_device",type:"checkbox","onUpdate:modelValue":s[15]||(s[15]=i=>a(n).enable_multi_device=i),class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"},null,512),[[fe,a(n).enable_multi_device]]),e("label",_t,t(o.$t("Enable Multi-Device Support")),1)]),e("p",xt,t(o.$t("Allow accounts to be logged into multiple devices")),1)]),e("div",yt,[e("button",{type:"button",onClick:s[16]||(s[16]=g(i=>w.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},t(o.$t("Cancel")),1),e("button",{class:u(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":a(n).processing}]),disabled:a(n).processing},[a(n).processing?(r(),d("svg",$t,s[33]||(s[33]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(r(),d("span",At,t(o.$t("Save")),1))],10,kt)])],32)])]),_:1},8,["label","isOpen"]),(ce=l.value)!=null&&ce.whatsapp&&((he=(ve=l.value)==null?void 0:ve.whatsapp)==null?void 0:he.is_embedded_signup)===0?(r(),$(we,{key:0,label:o.$t("Whatsapp API config"),isOpen:_.value},{default:A(()=>[e("div",Vt,[e("form",{onSubmit:s[21]||(s[21]=g(i=>Ae(),["prevent"])),class:"grid gap-x-6 gap-y-4 sm:grid-cols-6"},[m(v,{modelValue:a(f).access_token,"onUpdate:modelValue":s[19]||(s[19]=i=>a(f).access_token=i),error:a(f).errors.access_token,name:o.$t("Access token"),type:"text",class:u("sm:col-span-6")},null,8,["modelValue","error","name"]),e("div",Ct,[e("button",{type:"button",onClick:s[20]||(s[20]=g(i=>_.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},t(o.$t("Cancel")),1),e("button",{class:u(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":a(n).processing}]),disabled:a(f).processing},[a(f).processing?(r(),d("svg",St,s[34]||(s[34]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(r(),d("span",Zt,t(o.$t("Save")),1))],10,Mt)])],32)])]),_:1},8,["label","isOpen"])):c("",!0)]}),_:1},8,["modules"]))}};export{oo as default};
