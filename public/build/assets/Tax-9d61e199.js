import D from"./App-718b6dc4.js";import{T as M,o as k,c as A,j as t,g as s,h as p,t as n,F as B,e as I,f as N,n as j,u as g,a as o,l as O,r as x,x as R}from"./app-4f673f02.js";import{_ as E}from"./AlertModal-2a71a253.js";import{u as U}from"./useAlertModal-c1d8adba.js";import{_ as S}from"./Table-12c7cc2b.js";import{T as Z,a as H,_ as $}from"./TableHeaderRowItem-04503fa7.js";import{T as K,a as L,_ as T}from"./TableBodyRowItem-faf2df64.js";import{_ as P}from"./Dropdown-2e9d9eb2.js";import{_ as q,a as F}from"./DropdownItem-d1dca3c9.js";import{_ as z}from"./FormModalModified-caf8d9e1.js";import{_ as G}from"./FormSelect-022d2dcd.js";import{t as u}from"./index-ab75a26c.js";import"./App-99f6dda0.js";import"./Sidebar-0a4ae9c2.js";import"./Menu-213748f0.js";import"./ProfileModal-0220bc44.js";import"./FormInput-90ac10a6.js";import"./FormPhoneInput-8ce4b439.js";/* empty css                      */import"./transition-7595d24a.js";import"./hidden-bda63d68.js";import"./use-outside-click-b7ef0a88.js";import"./micro-task-89dcd6af.js";import"./tabs-58e94cd8.js";import"./use-resolve-button-type-e1c3a5cd.js";import"./LangToggle-91da4889.js";import"./use-text-value-1860018e.js";import"./MobileSidebar-15db7db8.js";import"./index-5e7cc33e.js";/* empty css              */import"./Sidebar-73c43d09.js";import"./Pagination-51e711e1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-tree-walker-04171e0d.js";import"./Modal-fe96c553.js";import"./FormImage-73026f9f.js";import"./FormTextArea-34329711.js";const J={__name:"TaxTable",props:{rows:{type:Array,required:!0}},emits:["edit","delete"],setup(w,{emit:y}){const f=w,{isOpenAlert:c,openAlert:v,confirmAlert:_}=U(),m=y,V=M({test:null});function b(a){m("edit",a)}const h=a=>{V.delete("/admin/tax-rates/"+a)},C=a=>a===f.rows.data.length-1;return(a,d)=>(k(),A(B,null,[t(S,{rows:w.rows},{default:s(()=>[t(Z,null,{default:s(()=>[t(H,null,{default:s(()=>[t($,{position:"first"},{default:s(()=>[p(n(a.$t("Name")),1)]),_:1}),t($,null,{default:s(()=>[p(n(a.$t("Tax rate")),1)]),_:1}),t($,null,{default:s(()=>[p(n(a.$t("Status")),1)]),_:1}),t($,{position:"last"})]),_:1})]),_:1}),t(K,null,{default:s(()=>[(k(!0),A(B,null,I(w.rows.data,(r,l)=>(k(),N(L,{key:l,class:j(C(l)?"":"border-b")},{default:s(()=>[t(T,{position:"first"},{default:s(()=>[p(n(r.name),1)]),_:2},1024),t(T,null,{default:s(()=>[p(n(r.percentage)+"%",1)]),_:2},1024),t(T,null,{default:s(()=>[p(n(a.$t(r.status)),1)]),_:2},1024),t(T,{position:"last"},{default:s(()=>[t(P,{align:"right",class:"mt-2"},{items:s(()=>[t(q,null,{default:s(()=>[t(F,{as:"button",onClick:e=>b(r.id)},{default:s(()=>[p(n(a.$t("Edit")),1)]),_:2},1032,["onClick"]),t(F,{as:"button",onClick:e=>g(v)(r.id)},{default:s(()=>[p(n(a.$t("Delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:s(()=>[d[2]||(d[2]=o("button",{class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},[o("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[o("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2Z"})])])],-1))]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["rows"]),t(E,{modelValue:g(c),"onUpdate:modelValue":d[0]||(d[0]=r=>O(c)?c.value=r:null),onConfirm:d[1]||(d[1]=()=>g(_)(h)),label:a.$t("Delete row"),description:a.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},Q={class:"flex justify-between"},W={class:"text-xl mb-1"},X={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},Y={class:"ml-1 mt-1"},ee={class:"bg-white rounded-md mb-4 py-4 px-4 flex grid grid-cols-2"},te={class:"text-xs"},Ue={__name:"Tax",props:{rows:Object,config:Object},setup(w){const y=w,f=x(!1),c=x("Add Tax Rate"),v=x("/admin/tax-rates"),_=x("post"),m={name:null,type:null,percentage:null,status:null},b=M({is_tax_inclusive:(l=>{const e=y.config.find(i=>i.key===l);return e?e.value:""})("is_tax_inclusive")}),h=(l,e={})=>{c.value=u("Add tax rate"),v.value="/admin/tax-rates",_.value="post",l!=null?(c.value=u("Edit tax rate"),v.value="/admin/tax-rates/"+l,_.value="put",C()):(m.name=null,m.percentage=null,m.status=null,f.value=!0)};function C(){R.get(v.value).then(l=>{const{data:e}=l;for(const i in e.item)m.hasOwnProperty(i)&&(m[i]=e.item[i]);f.value=!0}).catch(l=>{})}const a=x([{value:"1",label:u("Inclusive")},{value:"0",label:u("Exclusive")}]),d=[{inputType:"FormInput",name:"name",label:u("name"),type:"text",className:"sm:col-span-6"},{inputType:"FormInput",name:"percentage",label:u("Percentage"),type:"number",className:"sm:col-span-3"},{inputType:"FormSelect",name:"status",label:u("status"),options:[{value:"active",label:u("Active")},{value:"inactive",label:u("Inactive")}],className:"sm:col-span-3"}],r=async()=>{b.put("/admin/settings",{preserveScroll:!0})};return(l,e)=>(k(),N(D,null,{default:s(()=>[o("div",Q,[o("div",null,[o("h2",W,n(l.$t("Tax rates")),1),o("p",X,[e[5]||(e[5]=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),o("span",Y,n(l.$t("Configure tax rates")),1)])]),o("div",null,[o("button",{onClick:e[0]||(e[0]=i=>h()),type:"button",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},n(l.$t("Add tax rate")),1)])]),o("div",ee,[o("div",null,[o("h3",null,n(l.$t("Tax calculation method")),1),o("span",te,n(l.$t("Choose whether tax should be calculated inclusively or exclusively")),1)]),o("div",null,[t(G,{modelValue:g(b).is_tax_inclusive,"onUpdate:modelValue":e[1]||(e[1]=i=>g(b).is_tax_inclusive=i),name:"",type:"text",options:a.value,error:g(b).errors.is_tax_inclusive,class:j("sm:col-span-3")},null,8,["modelValue","options","error"]),o("button",{onClick:e[2]||(e[2]=i=>r()),type:"button",class:"rounded-md bg-gray-600 mt-4 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},n(l.$t("Update")),1)])]),t(J,{rows:y.rows,onEdit:h,onDelete:l.openAlert},null,8,["rows","onDelete"]),t(z,{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=i=>f.value=i),label:c.value,url:v.value,form:m,formInputs:d,formMethod:_.value,onCloseModal:e[4]||(e[4]=i=>f.value=!1)},null,8,["modelValue","label","url","formMethod"])]),_:1}))}};export{Ue as default};
