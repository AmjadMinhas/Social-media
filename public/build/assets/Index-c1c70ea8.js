import{_ as kt}from"./App-82b4a0a3.js";import{T as _t,r as S,G as $t,O as P,m as Ct,q as St,R as jt,o as c,c as p,a as e,t as r,u as f,j as i,g as n,i as k,h,F as rt,e as nt,n as _,b as v,d as at,w as V,v as z,f as it}from"./app-16024625.js";import{d as Mt}from"./debounce-6eee45f0.js";import{_ as Pt}from"./AlertModal-c9ced2c2.js";import{u as At}from"./useAlertModal-7bfab99e.js";import{_ as T}from"./Dropdown-ef8e9321.js";import{_ as L,a as w}from"./DropdownItem-ac9705fc.js";import"./Sidebar-76b95c07.js";import"./Menu-b6451fc0.js";import"./Modal-3ab14559.js";import"./ProfileModal-1a692e2d.js";import"./FormInput-5c26d6f8.js";import"./FormPhoneInput-71eed710.js";/* empty css                      */import"./FormSelect-fc4ff4e5.js";import"./index-cf21b94a.js";import"./hidden-769a48bc.js";import"./use-text-value-1db0facb.js";import"./transition-15823974.js";import"./micro-task-89dcd6af.js";import"./tabs-212a2a07.js";import"./LangToggle-fb2d22c0.js";import"./OrganizationModal-cb9ab2ac.js";import"./index-0725bf98.js";import"./MobileSidebar-6fe82e49.js";/* empty css              */import"./pusher-f995da32.js";import"./_baseGetTag-e93e379b.js";import"./use-tree-walker-0979755c.js";const Bt={class:"bg-white rounded-lg shadow-sm"},Tt={class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},Lt={class:"text-2xl font-semibold text-gray-900"},Ot={class:"flex items-center gap-3"},Nt=["title"],Vt={class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition text-sm font-medium"},zt={class:"flex items-center"},Ht={class:"border-b border-gray-200 px-6"},Dt={class:"flex space-x-8"},Et={class:"px-1 py-4 text-sm font-medium text-blue-600 border-b-2 border-blue-600"},Ut={class:"px-1 py-4 text-sm font-medium text-gray-500 hover:text-gray-700"},Rt={class:"px-1 py-4 text-sm font-medium text-gray-500 hover:text-gray-700"},qt={class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},Gt={class:"flex flex-wrap items-center gap-4"},Jt={class:"flex items-center gap-2"},Zt={class:"flex items-center gap-1"},Wt=["onClick","title"],Xt=["innerHTML"],Yt={key:0,class:"text-xs text-gray-500 ml-1"},Kt={class:"flex items-center gap-2 border border-gray-300 rounded-md px-3 py-1.5 bg-white"},Qt={class:"flex items-center gap-2 px-3 py-1.5 border border-gray-300 rounded-md bg-white text-sm text-gray-700 hover:bg-gray-50"},Ft={class:"flex-1 min-w-[200px] max-w-md"},It={class:"relative"},te=["placeholder"],ee={class:"overflow-x-auto"},se={class:"min-w-full divide-y divide-gray-200"},oe={class:"bg-gray-50"},le={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},re={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ne={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ae={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ie={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ue={class:"bg-white divide-y divide-gray-200"},de={class:"px-6 py-4 whitespace-nowrap"},ce={class:"text-sm text-gray-900 max-w-xs truncate"},ge={class:"px-6 py-4 whitespace-nowrap"},he={key:0,class:"w-12 h-12 rounded-md overflow-hidden bg-gray-100 relative"},pe=["src","alt","data-media-item","onLoad"],fe={key:0,class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30"},me={key:1,class:"w-12 h-12 rounded-md bg-gray-100 flex items-center justify-center"},we={class:"px-6 py-4 whitespace-nowrap"},ve={class:"px-6 py-4 whitespace-nowrap"},xe={class:"text-sm text-gray-900"},ye={class:"px-6 py-4 whitespace-nowrap"},be={class:"text-sm text-gray-900"},ke={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},_e={class:"flex items-center space-x-2"},$e={key:0},Ce={colspan:"6",class:"px-6 py-12 text-center"},Se={class:"text-gray-500 text-sm"},je={key:0,class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},Me={class:"flex items-center justify-between"},Pe={class:"text-sm text-gray-700"},Ae={class:"font-medium"},Be={class:"font-medium"},Te={class:"font-medium"},Le={class:"flex items-center gap-2"},Oe={key:1,class:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md"},Ne={__name:"PostSchedulerTable",props:{rows:{type:Object,required:!0},filters:{type:Object},connectedAccounts:{type:Object,default:()=>({})}},setup(x){var X,Y,K,Q,F,I,tt,et;const o=x,{isOpenAlert:$,openAlert:ut,confirmAlert:dt}=At(),ct=_t({test:null}),gt=t=>{ct.delete("/post-scheduler/"+t)},u=S({search:((X=o.filters)==null?void 0:X.search)||"",status:((Y=o.filters)==null?void 0:Y.status)||null,platform:((K=o.filters)==null?void 0:K.platform)||null,date_from:((Q=o.filters)==null?void 0:Q.date_from)||null,date_to:((F=o.filters)==null?void 0:F.date_to)||null}),H=S(!1);S(!1);const g=S([]),D=new Date,E=new Date;E.setMonth(D.getMonth()+6);function U(t){const s=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),d=String(t.getDate()).padStart(2,"0");return`${s}-${a}-${d}`}const j=S(((I=o.filters)==null?void 0:I.date_from)||U(D)),M=S(((tt=o.filters)==null?void 0:tt.date_to)||U(E));(et=o.filters)!=null&&et.platform&&o.filters.platform.trim()!==""&&(g.value=o.filters.platform.split(",").map(t=>t.trim().toLowerCase()).filter(t=>t)),$t(()=>o.filters,t=>{t&&(u.value.search=t.search||"",u.value.status=t.status||null,u.value.platform=t.platform||null,u.value.date_from=t.date_from||null,u.value.date_to=t.date_to||null,t.date_from&&(j.value=t.date_from),t.date_to&&(M.value=t.date_to),t.platform&&t.platform.trim()!==""?g.value=t.platform.split(",").map(s=>s.trim().toLowerCase()).filter(s=>s):g.value=[])},{deep:!0,immediate:!0});const ht=()=>{u.value.search="",C()},R=Mt(()=>{H.value=!0,C()},1e3),C=()=>{const t={search:u.value.search||null,status:u.value.status||null,date_from:j.value||null,date_to:M.value||null,platform:g.value.length>0?g.value.join(","):null};console.log("runSearch called with params:",t),console.log("Selected platforms:",g.value);const s=Object.fromEntries(Object.entries(t).filter(([m,b])=>b!==null&&b!==""));console.log("Clean params being sent:",s);const a=new URLSearchParams(s).toString(),d=a?`/post-scheduler?${a}`:"/post-scheduler";P.visit(d,{method:"get",preserveState:!0,preserveScroll:!0,only:["rows","filters"],onFinish:()=>{console.log("Search finished"),H.value=!1}})},A=t=>{u.value.status===t?u.value.status=null:u.value.status=t,C()},pt=t=>{const s=t.toLowerCase();console.log("Toggle platform:",t,"Normalized:",s,"Current selected:",g.value);const a=g.value.indexOf(s);a>-1?(g.value.splice(a,1),console.log("Platform removed, new selection:",g.value)):(g.value.push(s),console.log("Platform added, new selection:",g.value)),console.log("Running search with platforms:",g.value),C()},ft=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",mt=t=>({scheduled:"bg-blue-100 text-blue-800",publishing:"bg-yellow-100 text-yellow-800",published:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[t]||"bg-gray-100 text-gray-800",wt=t=>({facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",twitter:"X (Twitter)",linkedin:"LinkedIn"})[t]||t,vt=t=>({facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#1877F2" d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg>',linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#0A66C2" d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>',instagram:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><radialGradient id="instagramGradient" cx="30%" cy="110%"><stop offset="0%" style="stop-color:#fdf497" /><stop offset="5%" style="stop-color:#fdf497" /><stop offset="45%" style="stop-color:#fd5949" /><stop offset="60%" style="stop-color:#d6249f" /><stop offset="90%" style="stop-color:#285AEB" /></radialGradient></defs><path fill="url(#instagramGradient)" d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8A1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3z"/></svg>',twitter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M18.205 2.25h3.308l-7.227 8.26l8.502 11.24H16.13l-5.214-6.817L4.95 21.75H1.64l7.73-8.835L1.215 2.25H8.04l4.713 6.231l5.45-6.231Zm-1.161 17.52h1.833L7.045 4.126H5.078L17.044 19.77Z"/></svg>'})[t]||"",O=Ct(()=>Object.keys(o.connectedAccounts||{})),xt=t=>(t.media&&t.media.length>0,"Post Composer"),y=t=>{if(!t)return console.log("getMediaThumbnail: No media provided"),null;if(console.log("getMediaThumbnail: Input media type:",typeof t,"Value:",t),typeof t=="string")try{const s=JSON.parse(t);console.log("getMediaThumbnail: Parsed JSON string:",s),t=s}catch{return console.log("getMediaThumbnail: String is not JSON, treating as URL:",t),{url:t,thumbnail:null,is_video:!1}}return Array.isArray(t)?t.length===0?(console.log("getMediaThumbnail: Empty array"),null):(console.log("getMediaThumbnail: Returning first item from array:",t[0]),t[0]):typeof t=="object"&&t!==null?(console.log("getMediaThumbnail: Returning object:",t),t):(console.log("getMediaThumbnail: Unknown format, returning null"),null)},N=t=>{if(!t)return!1;if(typeof t=="object"&&t!==null){if(t.is_video!==void 0)return t.is_video;t=t.url||t}if(typeof t!="string")return!1;const s=[".mp4",".mov",".avi",".webm",".mkv"],a=t.toLowerCase();return s.some(d=>a.includes(d))||a.includes("/video/")||a.includes("video")},q=t=>{if(!t)return null;if(console.log("getThumbnailUrl called with:",t,typeof t),typeof t=="object"&&t!==null){if(t.thumbnail&&t.thumbnail!==null)return console.log("Using provided thumbnail:",t.thumbnail),t.thumbnail;if(t.url){if(N(t)){const s=G(t.url);return console.log("Video thumbnail constructed:",s),s}return console.log("Using image URL as thumbnail:",t.url),t.url}return null}return typeof t!="string"?null:N(t)?G(t):t},G=t=>{if(!t)return null;const s=t.split("/"),a=s[s.length-1],d=a.substring(0,a.lastIndexOf("."))||a;let m;return t.includes("/media/")?m="/storage/post-scheduler/thumbnails/"+d+"_thumb.jpg":t.includes("/storage/")||t.includes("/post-scheduler/")?m=t.substring(0,t.lastIndexOf("/"))+"/thumbnails/"+d+"_thumb.jpg":m="/storage/post-scheduler/thumbnails/"+d+"_thumb.jpg",console.log("Constructed thumbnail path:",m,"from:",t),m},J=t=>t?typeof t=="object"&&t!==null&&t.url||t:null,yt=t=>{const s=t.target.src;console.log("Image error, trying fallback:",s);const a=t.target.dataset.mediaItem;if(a)try{const m=JSON.parse(a);if(m.url){t.target.src=m.url;return}}catch{}const d=s.replace("/thumbnails/","/").replace("_thumb.jpg","");d!==s&&d!==t.target.src?t.target.src=d:t.target.style.display="none"},Z=()=>{var s;if(!((s=o.rows)!=null&&s.links)||o.rows.links.length===0)return null;const t=o.rows.links.find(a=>a.label==="&laquo; Previous"||a.label==="Previous");return(t==null?void 0:t.url)||null},W=()=>{var s;if(!((s=o.rows)!=null&&s.links)||o.rows.links.length===0)return null;const t=o.rows.links.find(a=>a.label==="Next &raquo;"||a.label==="Next");return(t==null?void 0:t.url)||null};let B=null;const bt=()=>{const t={...u.value,date_from:j.value,date_to:M.value,platform:g.value.length>0?g.value.join(","):null},s=Object.fromEntries(Object.entries(t).filter(([a,d])=>d!==null&&d!==""));P.visit("/post-scheduler",{method:"get",data:s,preserveState:!0,preserveScroll:!0,only:["rows","filters"]})};return St(()=>{B=setInterval(()=>{bt()},3e4)}),jt(()=>{B&&(clearInterval(B),B=null)}),(t,s)=>{var a,d,m,b,st,ot;return c(),p("div",Bt,[e("div",Tt,[e("div",null,[e("h2",Lt,r(t.$t("Social Planner")),1)]),e("div",Ot,[e("button",{onClick:s[0]||(s[0]=l=>f(P).visit("/social-accounts")),class:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition",title:t.$t("Manage Social Accounts")},s[11]||(s[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})],-1)]),8,Nt),i(T,{align:"right"},{items:n(()=>[i(L,null,{default:n(()=>[i(w,{as:"div"},{default:n(()=>[i(f(k),{href:"/post-scheduler/create",class:"flex items-center w-full"},{default:n(()=>[s[13]||(s[13]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2"},[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)),h(" "+r(t.$t("Create New Post")),1)]),_:1})]),_:1}),i(w,null,{default:n(()=>[e("div",zt,[s[14]||(s[14]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2"},[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e("line",{x1:"9",y1:"3",x2:"9",y2:"21"})],-1)),h(" "+r(t.$t("Social Planner Templates")),1)])]),_:1})]),_:1})]),default:n(()=>[e("button",Vt,[s[12]||(s[12]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)),h(" "+r(t.$t("New Post")),1)])]),_:1})])]),e("div",Ht,[e("div",Dt,[e("button",Et,r(t.$t("Planner")),1),e("button",Ut,r(t.$t("Content")),1),e("button",Rt,r(t.$t("Statistics")),1)])]),e("div",qt,[e("div",Gt,[e("div",Jt,[e("div",Zt,[(c(!0),p(rt,null,nt(O.value,l=>(c(),p("button",{key:l,onClick:lt=>pt(l),class:_([g.value.includes(l)?"ring-2 ring-blue-500":"opacity-50 hover:opacity-100","p-1.5 rounded-md transition"]),title:wt(l)},[e("span",{innerHTML:vt(l)},null,8,Xt)],10,Wt))),128))]),O.value.length>3?(c(),p("span",Yt," +"+r(O.value.length-3),1)):v("",!0)]),e("div",Kt,[s[15]||(s[15]=at('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-500"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>',1)),V(e("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=l=>j.value=l),onChange:C,class:"border-0 p-0 text-sm focus:ring-0 focus:outline-0 w-32"},null,544),[[z,j.value]]),s[16]||(s[16]=e("span",{class:"text-gray-400"},"to",-1)),V(e("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=l=>M.value=l),onChange:C,class:"border-0 p-0 text-sm focus:ring-0 focus:outline-0 w-32"},null,544),[[z,M.value]])]),i(T,{align:"left"},{items:n(()=>[i(L,null,{default:n(()=>[i(w,null,{default:n(()=>[h(r(t.$t("Bulk Actions")),1)]),_:1}),i(w,null,{default:n(()=>[h(r(t.$t("Export")),1)]),_:1})]),_:1})]),default:n(()=>[e("button",Qt,[h(r(t.$t("Actions"))+" ",1),s[17]||(s[17]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"6 9 12 15 18 9"})],-1))])]),_:1}),i(T,{align:"left"},{items:n(()=>[i(L,null,{default:n(()=>[i(w,{onClick:s[3]||(s[3]=l=>A(null)),class:_(u.value.status?"":"bg-blue-50")},{default:n(()=>[h(r(t.$t("All")),1)]),_:1},8,["class"]),i(w,{onClick:s[4]||(s[4]=l=>A("scheduled")),class:_(u.value.status==="scheduled"?"bg-blue-50":"")},{default:n(()=>[h(r(t.$t("Scheduled")),1)]),_:1},8,["class"]),i(w,{onClick:s[5]||(s[5]=l=>A("published")),class:_(u.value.status==="published"?"bg-blue-50":"")},{default:n(()=>[h(r(t.$t("Published")),1)]),_:1},8,["class"]),i(w,{onClick:s[6]||(s[6]=l=>A("failed")),class:_(u.value.status==="failed"?"bg-blue-50":"")},{default:n(()=>[h(r(t.$t("Failed")),1)]),_:1},8,["class"])]),_:1})]),default:n(()=>[e("button",{class:_(["flex items-center gap-2 px-3 py-1.5 border border-gray-300 rounded-md bg-white text-sm text-gray-700 hover:bg-gray-50",u.value.status?"border-blue-500 bg-blue-50":""])},[h(r(t.$t("Filter Views"))+": "+r(u.value.status?t.$t(u.value.status.charAt(0).toUpperCase()+u.value.status.slice(1)):t.$t("All"))+" ",1),s[18]||(s[18]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"6 9 12 15 18 9"})],-1))],2)]),_:1}),e("div",Ft,[e("div",It,[V(e("input",{onInput:s[7]||(s[7]=(...l)=>f(R)&&f(R)(...l)),"onUpdate:modelValue":s[8]||(s[8]=l=>u.value.search=l),type:"text",class:"w-full pl-10 pr-10 py-1.5 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t.$t("Search by caption")},null,40,te),[[z,u.value.search]]),s[20]||(s[20]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})],-1)),u.value.search?(c(),p("button",{key:0,onClick:ht,class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},s[19]||(s[19]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1)]))):v("",!0)])])])]),e("div",ee,[e("table",se,[e("thead",oe,[e("tr",null,[e("th",le,r(t.$t("Caption")),1),e("th",re,r(t.$t("Media")),1),e("th",ne,r(t.$t("Status")),1),e("th",ae,r(t.$t("Type")),1),e("th",ie,r(t.$t("Date")),1),s[21]||(s[21]=e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},null,-1))])]),e("tbody",ue,[(c(!0),p(rt,null,nt(((a=o.rows)==null?void 0:a.data)||[],(l,lt)=>(c(),p("tr",{key:lt,class:"hover:bg-gray-50"},[e("td",de,[i(f(k),{href:"/post-scheduler/"+l.uuid,class:"block"},{default:n(()=>[e("div",ce,r(l.content||l.title||"-"),1)]),_:2},1032,["href"])]),e("td",ge,[i(f(k),{href:"/post-scheduler/"+l.uuid,class:"block"},{default:n(()=>[y(l.media)?(c(),p("div",he,[e("img",{src:q(y(l.media))||J(y(l.media))||"",alt:l.title,"data-media-item":JSON.stringify(y(l.media)),class:"w-full h-full object-cover",onError:yt,onLoad:()=>console.log("âœ… Image loaded:",q(y(l.media))||J(y(l.media))),loading:"lazy"},null,40,pe),N(y(l.media))?(c(),p("div",fe,s[22]||(s[22]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",class:"drop-shadow-lg"},[e("path",{d:"M8 5v14l11-7z"})],-1)]))):v("",!0)])):(c(),p("div",me,s[23]||(s[23]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-gray-400"},[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e("polyline",{points:"21 15 16 10 5 21"})],-1)])))]),_:2},1032,["href"])]),e("td",we,[i(f(k),{href:"/post-scheduler/"+l.uuid,class:"block"},{default:n(()=>[e("span",{class:_([mt(l.status),"px-2.5 py-1 rounded-full text-xs font-medium inline-block"])},r(l.status_label),3)]),_:2},1032,["href"])]),e("td",ve,[i(f(k),{href:"/post-scheduler/"+l.uuid,class:"block"},{default:n(()=>[e("span",xe,r(xt(l)),1)]),_:2},1032,["href"])]),e("td",ye,[i(f(k),{href:"/post-scheduler/"+l.uuid,class:"block"},{default:n(()=>[e("div",be,r(ft(l.scheduled_at)),1)]),_:2},1032,["href"])]),e("td",ke,[i(T,{align:"right"},{items:n(()=>[i(L,null,{default:n(()=>[i(w,{as:"button",onClick:Re=>f(ut)(t.$t("Are you sure you want to delete?"),gt,[l.uuid])},{default:n(()=>[e("div",_e,[s[24]||(s[24]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)),e("span",null,r(t.$t("Delete")),1)])]),_:2},1032,["onClick"])]),_:2},1024)]),default:n(()=>[s[25]||(s[25]=e("button",{class:"text-gray-400 hover:text-gray-600 p-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M9.5 13a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0z"})])],-1))]),_:2},1024)])]))),128)),!((d=o.rows)!=null&&d.data)||o.rows.data.length===0?(c(),p("tr",$e,[e("td",Ce,[s[26]||(s[26]=at('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto text-gray-400 mb-3"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>',1)),e("p",Se,r(t.$t("No scheduled posts found")),1),i(f(k),{href:"/post-scheduler/create",class:"mt-3 inline-block text-blue-600 hover:text-blue-800 text-sm"},{default:n(()=>[h(r(t.$t("Create your first post")),1)]),_:1})])])):v("",!0)])])]),(m=o.rows)!=null&&m.data&&o.rows.data.length>0&&o.rows.total>o.rows.per_page?(c(),p("div",je,[e("div",Me,[e("div",Pe,[h(r(t.$t("Showing"))+" ",1),e("span",Ae,r(o.rows.from||(o.rows.data?1:0)),1),h(" "+r(t.$t("to"))+" ",1),e("span",Be,r(o.rows.to||(o.rows.data?o.rows.data.length:0)),1),h(" "+r(t.$t("of"))+" ",1),e("span",Te,r(o.rows.total||(o.rows.data?o.rows.data.length:0)),1),h(" "+r(t.$t("result(s)")),1)]),e("div",Le,[(b=o.rows)!=null&&b.links&&o.rows.links.length>0&&Z()?(c(),p("button",{key:0,onClick:s[9]||(s[9]=l=>f(P).visit(Z())),class:"px-3 py-1.5 text-sm border border-gray-300 rounded-md bg-white hover:bg-gray-50"},r(t.$t("Previous")),1)):v("",!0),(st=o.rows)!=null&&st.current_page?(c(),p("span",Oe,r(o.rows.current_page),1)):v("",!0),(ot=o.rows)!=null&&ot.links&&o.rows.links.length>0&&W()?(c(),p("button",{key:2,onClick:s[10]||(s[10]=l=>f(P).visit(W())),class:"px-3 py-1.5 text-sm border border-gray-300 rounded-md bg-white hover:bg-gray-50"},r(t.$t("Next")),1)):v("",!0)])])])):v("",!0),i(Pt,{isOpen:f($),onConfirm:f(dt)},null,8,["isOpen","onConfirm"])])}}},Ve={class:"bg-white md:bg-inherit pt-0 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] overflow-y-scroll"},ze={class:"md:flex justify-between mt-8 md:mt-0 hidden"},He={class:"text-xl mb-1"},De={class:"mb-6 md:flex items-center text-sm leading-6 text-gray-600 hidden"},Ee={class:"ml-1 mt-1"},Ue={key:1,class:"p-8 text-center text-gray-500"},vs={__name:"Index",props:["rows","filters","connectedAccounts"],setup(x){return(o,$)=>(c(),it(kt,null,{default:n(()=>[e("div",Ve,[e("div",ze,[e("div",null,[e("h2",He,r(o.$t("Post Scheduler")),1),e("p",De,[$[0]||($[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",Ee,r(o.$t("Schedule posts for multiple social media platforms")),1)])])]),x.rows&&x.rows.data!==void 0?(c(),it(Ne,{key:0,rows:x.rows,filters:x.filters||{},connectedAccounts:x.connectedAccounts||{}},null,8,["rows","filters","connectedAccounts"])):(c(),p("div",Ue,$[1]||($[1]=[e("p",null,"Loading...",-1)])))])]),_:1}))}};export{vs as default};
