import{_ as D}from"./App-82b4a0a3.js";import{T as U,m as k,f as F,g as v,o as i,a as s,t as r,h as f,j as $,u as C,i as S,n as O,c as a,b as c,F as V,e as M}from"./app-16024625.js";import{t as g}from"./index-cf21b94a.js";import"./Sidebar-76b95c07.js";import"./Menu-b6451fc0.js";import"./Modal-3ab14559.js";import"./ProfileModal-1a692e2d.js";import"./FormInput-5c26d6f8.js";import"./FormPhoneInput-71eed710.js";/* empty css                      */import"./FormSelect-fc4ff4e5.js";import"./hidden-769a48bc.js";import"./use-text-value-1db0facb.js";import"./transition-15823974.js";import"./micro-task-89dcd6af.js";import"./tabs-212a2a07.js";import"./LangToggle-fb2d22c0.js";import"./OrganizationModal-cb9ab2ac.js";import"./index-0725bf98.js";import"./MobileSidebar-6fe82e49.js";/* empty css              */import"./pusher-f995da32.js";const Z={class:"min-h-screen bg-gray-50"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},G={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},J={class:"flex justify-between items-center px-6 py-4 border-b border-gray-200"},R={class:"text-2xl font-semibold text-gray-900"},W={class:"flex items-center text-sm text-gray-500 mt-1"},X={class:"flex items-center space-x-3"},K={class:"space-y-6"},Q={class:"flex items-center justify-between"},Y={class:"flex items-center space-x-3"},I={class:"text-2xl"},tt={class:"font-medium"},st={class:"text-sm"},et={class:"text-sm"},ot={key:0},rt={key:1},lt={key:0,class:"bg-red-50 border border-red-200 p-4 rounded-lg"},it={class:"font-medium text-red-800 mb-2"},nt={class:"text-sm text-red-700"},at={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},dt={class:"text-lg font-semibold text-gray-900 mb-4"},ct={class:"bg-gray-50 p-6 rounded-lg border border-gray-200"},ut={class:"whitespace-pre-wrap text-gray-800 leading-relaxed"},ht={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},gt={class:"text-lg font-semibold text-gray-900 mb-4"},bt={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},pt={class:"mr-3"},ft={key:0,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},mt={key:1,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},yt={key:2,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},vt={key:3,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},wt={key:4,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},xt={class:"flex-1"},_t={class:"font-medium"},kt={key:0,class:"text-xs text-gray-500"},$t={key:1,class:"text-xs text-gray-500"},Ct={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},St={class:"text-lg font-semibold text-gray-900 mb-4"},Vt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Mt=["data-index"],Tt={key:0,class:"relative"},jt=["src","alt"],Bt=["href"],Lt={key:1,class:"relative"},Pt=["src","alt","onLoad"],At=["href"],Nt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Ht={class:"text-lg font-semibold text-gray-900 mb-4"},Et={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},zt={class:"text-sm font-medium text-gray-500"},Dt={class:"mt-1 text-sm text-gray-900"},Ut={class:"text-sm font-medium text-gray-500"},Ft={class:"mt-1 text-sm text-gray-900"},Ot={class:"text-sm font-medium text-gray-500"},Zt={class:"mt-1 text-sm text-gray-900"},qt={key:0},Gt={class:"text-sm font-medium text-gray-500"},Jt={class:"mt-1 text-sm text-gray-900"},Rt={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex justify-end space-x-3"},fs={__name:"View",props:["post"],setup(l){const u=l,T=U({}),j={facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",twitter:"X (Twitter)",linkedin:"LinkedIn"},B=t=>j[t]||t,w=k(()=>{if(!u.post||!u.post.platforms)return[];let t=u.post.platforms;if(typeof t=="string")try{t=JSON.parse(t)}catch{t=t.split(",").map(n=>n.trim()).filter(n=>n)}return Array.isArray(t)||(t=[t]),[...new Set(t.map(o=>String(o).toLowerCase().trim()).filter(o=>o))]}),h=t=>new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),L=t=>({scheduled:"bg-blue-50 border border-blue-200",publishing:"bg-yellow-50 border border-yellow-200",published:"bg-green-50 border border-green-200",failed:"bg-red-50 border border-red-200",cancelled:"bg-gray-50 border border-gray-200"})[t]||"bg-gray-50 border border-gray-200",P=t=>({scheduled:"ðŸ“…",publishing:"â³",published:"âœ…",failed:"âŒ",cancelled:"ðŸš«"})[t]||"ðŸ“„",A=t=>({scheduled:g("This post is scheduled and will be published automatically"),publishing:g("This post is currently being published"),published:g("This post has been successfully published"),failed:g("This post failed to publish"),cancelled:g("This post has been cancelled")})[t]||"",N=()=>{confirm(g("Are you sure you want to cancel this scheduled post?"))&&T.post(`/post-scheduler/${u.post.uuid}`,{_method:"post",status:"cancelled"})},b=k(()=>{if(!u.post||!u.post.media)return[];let t=u.post.media;if(typeof t=="string")try{t=JSON.parse(t)}catch{return[{url:t,thumbnail:null,is_video:!1}]}return Array.isArray(t)||(t=[t]),t.map((e,o)=>typeof e=="object"&&e!==null&&e.url?{url:e.url,thumbnail:e.thumbnail||null,is_video:e.is_video||!1}:typeof e=="object"&&e!==null?{url:e.url||Object.values(e)[0]||"",thumbnail:e.thumbnail||null,is_video:e.is_video||!1}:typeof e=="string"?{url:e,thumbnail:null,is_video:!1}:null).filter(e=>e!==null&&e.url)}),H=t=>{if(!t)return!1;if(t.is_video===!0)return!0;const e=d(t);if(!e)return!1;const o=[".mp4",".mov",".avi",".webm",".mkv"],n=String(e).toLowerCase();return o.some(p=>n.includes(p))||n.includes("/video/")||n.includes("video")},d=t=>t?typeof t=="object"&&t!==null?t.url||"":typeof t=="string"?t:"":"",E=t=>t?typeof t=="object"&&t!==null?t.thumbnail&&t.thumbnail!==null?t.thumbnail:t.is_video&&t.url?x(t.url):t.url||"":typeof t=="string"?x(t):"":"",x=t=>{if(!t)return null;if(isVideo(t)){const e=String(t).split("/"),o=e[e.length-1],n=o.substring(0,o.lastIndexOf("."))||o;return String(t).substring(0,String(t).lastIndexOf("/"))+"/thumbnails/"+n+"_thumb.jpg"}return t},_=t=>{var p,y;console.log("âŒ Image failed to load:",t.target.src);const e=(y=(p=t.target.closest("[data-index]"))==null?void 0:p.dataset)==null?void 0:y.index;if(e!==void 0&&b.value[e]){const z=b.value[e],m=d(z);if(console.log("ðŸ”„ Trying fallback URL:",m),m&&m!==t.target.src){t.target.src=m;return}}const o=t.target.src;let n=o.replace("/thumbnails/","/").replace("_thumb.jpg","");n&&n!==o?(console.log("ðŸ”„ Trying extracted URL:",n),t.target.src=n):(console.log("âŒ No fallback available, hiding image"),t.target.style.display="none")};return(t,e)=>(i(),F(D,null,{default:v(()=>[s("div",Z,[s("div",q,[s("div",G,[s("div",J,[s("div",null,[s("h1",R,r(l.post.title||t.$t("Untitled Post")),1),s("p",W,[e[0]||(e[0]=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-1"},[s("path",{d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),f(" "+r(t.$t("Scheduled Post Details")),1)])]),s("div",X,[$(C(S),{href:"/post-scheduler",class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:v(()=>[e[1]||(e[1]=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2"},[s("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1)),f(" "+r(t.$t("Back to Posts")),1)]),_:1})])])]),s("div",K,[s("div",{class:O([L(l.post.status),"p-4 rounded-lg shadow-sm"])},[s("div",Q,[s("div",Y,[s("span",I,r(P(l.post.status)),1),s("div",null,[s("h3",tt,r(l.post.status_label),1),s("p",st,r(A(l.post.status)),1)])]),s("div",et,[l.post.status==="scheduled"?(i(),a("span",ot,[f(r(t.$t("Scheduled for"))+": ",1),s("strong",null,r(h(l.post.scheduled_at)),1)])):c("",!0),l.post.status==="published"?(i(),a("span",rt,[f(r(t.$t("Published at"))+": ",1),s("strong",null,r(h(l.post.published_at)),1)])):c("",!0)])])],2),l.post.status==="failed"&&l.post.error_message?(i(),a("div",lt,[s("h4",it,r(t.$t("Error Details")),1),s("p",nt,r(l.post.error_message),1)])):c("",!0),s("div",at,[s("h3",dt,r(t.$t("Post Content")),1),s("div",ct,[s("p",ut,r(l.post.content||t.$t("No content")),1)])]),s("div",ht,[s("h3",gt,r(t.$t("Target Platforms")),1),w.value.length>0?(i(),a("div",bt,[(i(!0),a(V,null,M(w.value,o=>(i(),a("div",{key:o,class:"flex items-center p-4 border-2 border-blue-200 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors"},[s("div",pt,[o==="facebook"?(i(),a("svg",ft,e[2]||(e[2]=[s("path",{fill:"#1877F2",d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"},null,-1)]))):o==="instagram"?(i(),a("svg",mt,e[3]||(e[3]=[s("defs",null,[s("radialGradient",{id:"instagramGradient3",cx:"30%",cy:"110%"},[s("stop",{offset:"0%",style:{"stop-color":"#fdf497"}}),s("stop",{offset:"5%",style:{"stop-color":"#fdf497"}}),s("stop",{offset:"45%",style:{"stop-color":"#fd5949"}}),s("stop",{offset:"60%",style:{"stop-color":"#d6249f"}}),s("stop",{offset:"90%",style:{"stop-color":"#285AEB"}})])],-1),s("path",{fill:"url(#instagramGradient3)",d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8A1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3z"},null,-1)]))):o==="tiktok"?(i(),a("svg",yt,e[4]||(e[4]=[s("path",{fill:"currentColor",d:"M16.6 5.82s.51.5 0 0A4.278 4.278 0 0 1 15.54 3h-3.09v12.4a2.592 2.592 0 0 1-2.59 2.5c-1.42 0-2.6-1.16-2.6-2.6c0-1.72 1.66-3.01 3.37-2.48V9.66c-3.45-.46-6.47 2.22-6.47 5.64c0 3.33 2.76 5.7 5.69 5.7c3.14 0 5.69-2.55 5.69-5.7V9.01a7.35 7.35 0 0 0 4.3 1.38V7.3s-1.88.09-3.24-1.48z"},null,-1)]))):o==="twitter"?(i(),a("svg",vt,e[5]||(e[5]=[s("path",{fill:"currentColor",d:"M18.205 2.25h3.308l-7.227 8.26l8.502 11.24H16.13l-5.214-6.817L4.95 21.75H1.64l7.73-8.835L1.215 2.25H8.04l4.713 6.231l5.45-6.231Zm-1.161 17.52h1.833L7.045 4.126H5.078L17.044 19.77Z"},null,-1)]))):o==="linkedin"?(i(),a("svg",wt,e[6]||(e[6]=[s("path",{fill:"#0A66C2",d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"},null,-1)]))):c("",!0)]),s("div",xt,[s("h4",_t,r(B(o)),1),l.post.platform_post_ids&&l.post.platform_post_ids[o]?(i(),a("p",kt,r(t.$t("Post ID"))+": "+r(l.post.platform_post_ids[o]),1)):(i(),a("p",$t,r(t.$t("Not published yet")),1))])]))),128))])):c("",!0)]),b.value&&b.value.length>0?(i(),a("div",Ct,[s("h3",St,r(t.$t("Media")),1),s("div",Vt,[(i(!0),a(V,null,M(b.value,(o,n)=>(i(),a("div",{key:`media-${n}-${d(o)}`,"data-index":n,class:"border rounded-lg overflow-hidden relative group hover:shadow-lg transition-shadow bg-gray-100"},[H(o)?(i(),a("div",Tt,[s("img",{src:E(o)||d(o)||"",alt:"Video "+(n+1),class:"w-full h-48 object-cover",onError:_,loading:"lazy"},null,40,jt),e[7]||(e[7]=s("div",{class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"white",class:"drop-shadow-lg"},[s("path",{d:"M8 5v14l11-7z"})])],-1)),s("a",{href:d(o),target:"_blank",class:"absolute bottom-2 right-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs hover:bg-opacity-90"},r(t.$t("View")),9,Bt)])):(i(),a("div",Lt,[s("img",{src:d(o)||"",alt:"Image "+(n+1),class:"w-full h-48 object-cover",onError:_,onLoad:()=>console.log("âœ… Image loaded:",d(o)),loading:"lazy"},null,40,Pt),s("a",{href:d(o),target:"_blank",class:"absolute bottom-2 right-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs hover:bg-opacity-90 opacity-0 group-hover:opacity-100 transition-opacity"},r(t.$t("View Full")),9,At)]))],8,Mt))),128))])])):c("",!0),s("div",Nt,[s("h3",Ht,r(t.$t("Details")),1),s("dl",Et,[s("div",null,[s("dt",zt,r(t.$t("Created At")),1),s("dd",Dt,r(h(l.post.created_at)),1)]),s("div",null,[s("dt",Ut,r(t.$t("Last Updated")),1),s("dd",Ft,r(h(l.post.updated_at)),1)]),s("div",null,[s("dt",Ot,r(t.$t("Scheduled Time")),1),s("dd",Zt,r(h(l.post.scheduled_at)),1)]),l.post.published_at?(i(),a("div",qt,[s("dt",Gt,r(t.$t("Published Time")),1),s("dd",Jt,r(h(l.post.published_at)),1)])):c("",!0)])]),l.post.status==="scheduled"?(i(),a("div",Rt,[s("button",{onClick:N,class:"px-4 py-2 border border-red-300 text-red-700 rounded-md text-sm font-medium hover:bg-red-50 transition-colors"},r(t.$t("Cancel Post")),1),$(C(S),{href:`/post-scheduler/${l.post.uuid}/edit`,class:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors"},{default:v(()=>[f(r(t.$t("Edit Post")),1)]),_:1},8,["href"])])):c("",!0)])])])]),_:1}))}};export{fs as default};
