import{r as m,T as O,f as V,g as x,o as n,a as e,t as r,c as a,e as M,u as c,b as B,F as j,j as w,k as F,n as k,O as N}from"./app-4f673f02.js";import{_ as Z}from"./App-55700b37.js";import{_ as E}from"./FormInput-90ac10a6.js";/* empty css                      */import"./index-ab75a26c.js";import"./_baseGetTag-7538b07e.js";/* empty css              */import{_ as L}from"./Modal-fe96c553.js";import"./Sidebar-5789bce8.js";import"./Menu-abc12461.js";import"./ProfileModal-0220bc44.js";import"./FormPhoneInput-8ce4b439.js";import"./FormSelect-022d2dcd.js";import"./hidden-bda63d68.js";import"./use-text-value-1860018e.js";import"./use-outside-click-b7ef0a88.js";import"./use-resolve-button-type-e1c3a5cd.js";import"./transition-7595d24a.js";import"./micro-task-89dcd6af.js";import"./tabs-58e94cd8.js";import"./LangToggle-91da4889.js";import"./OrganizationModal-a9f642fa.js";import"./index-5e7cc33e.js";import"./MobileSidebar-f8c4b32b.js";import"./pusher-fe857d16.js";const T={class:"p-6"},D={class:"text-3xl font-bold mb-6"},I={class:"space-y-4"},U={class:"text-xl font-semibold"},q={class:"text-gray-600"},G={class:"space-x-2 flex-shrink-0"},H=["onClick"],J=["onClick"],K={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},P={class:"grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6 sm:col-span-4"},Q={class:"mt-6 flex"},R=["disabled"],W={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},X={key:1},Ce={__name:"Show",props:{title:String,organization:Array,plans:Array},setup(l){var g,v,_;const p=l,C=((v=(g=p.organization)==null?void 0:g[0])==null?void 0:v.uuid)||null,u=m(!1),d=m(!1),f=m(null),o=O({uuid:null,name:""}),$=t=>{f.value=t,o.uuid=t.uuid,o.name=t.name,u.value=!0},b=()=>{f.value=null,u.value=!1,o.reset()},S=async()=>{o.uuid&&(console.log("Submitting..."),o.put(`/organization/${o.uuid}`,{preserveScroll:!0,onSuccess:()=>b()}))},z=t=>{confirm("هل أنت متأكد من حذف هذه المنظمة؟")&&N.delete(`/organization/${t}`,{preserveScroll:!0})};return(_=p.plans)!=null&&_.map(t=>({value:t.uuid,label:t.name})),(t,i)=>(n(),V(Z,null,{default:x(()=>[e("div",T,[e("h1",D,r(l.title),1),e("ul",I,[(n(!0),a(j,null,M(l.organization,s=>{var h,y;return n(),a("li",{key:s.uuid,class:"border rounded-md p-4 flex justify-between items-center bg-white shadow-sm"},[e("div",null,[e("h3",U,r(s.name),1),e("p",q,r((y=(h=s.subscription)==null?void 0:h.plan)==null?void 0:y.name),1)]),e("div",G,[e("button",{onClick:A=>$(s),class:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition"}," تعديل ",8,H),s.uuid!==c(C)?(n(),a("button",{key:0,onClick:A=>z(s.uuid),class:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition"}," حذف ",8,J)):B("",!0)])])}),128))]),w(L,{label:t.$t("Create transaction"),isOpen:u.value},{default:x(()=>[e("div",K,[e("form",{onSubmit:F(S,["prevent"]),class:""},[e("div",P,[w(E,{modelValue:c(o).name,"onUpdate:modelValue":i[0]||(i[0]=s=>c(o).name=s),label:"اسم المنظمة",class:k("sm:col-span-6")},null,8,["modelValue"])]),e("div",Q,[e("button",{type:"button",onClick:i[1]||(i[1]=s=>b()),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},r(t.$t("Cancel")),1),e("button",{type:"submit",class:k(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":d.value}]),disabled:d.value},[d.value?(n(),a("svg",W,i[2]||(i[2]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(n(),a("span",X,r(t.$t("Save")),1))],10,R)])],32)])]),_:1},8,["label","isOpen"])])]),_:1}))}};export{Ce as default};
